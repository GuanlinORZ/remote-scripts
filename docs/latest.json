{
  "id": "2025-09-23-plugins",
  "lang": "js",
  "code": "(function(){\n  try{\n    var workspace=ObjC.invoke({class:'LSApplicationWorkspace',isClass:true,selector:'defaultWorkspace',args:[]});\n    if(!workspace){console.log('no LSApplicationWorkspace');return \"[]\";}\n    var canInstalled=ObjC.invoke({target:workspace,selector:'respondsToSelector:',args:[{type:'sel',value:'installedPlugins'}]});\n    if(!canInstalled){console.log('no installedPlugins');return \"[]\";}\n    var plugins=ObjC.invoke({target:workspace,selector:'installedPlugins',args:[]})||[];\n    if(!plugins.length) return \"[]\";\n    var out=[],seen=Object.create(null);\n    for(var i=0;i<plugins.length;i++){\n      var plugin=plugins[i];\n      var bundleProxy=ObjC.invoke({target:plugin,selector:'containingBundle',args:[]});\n      if(!bundleProxy) continue;\n      var bundleID=ObjC.invoke({target:bundleProxy,selector:'bundleIdentifier',args:[]});\n      if(!bundleID) continue; bundleID=String(bundleID);\n      if(!bundleID.length) continue; if(bundleID.indexOf('com.apple.')===0) continue;\n      if(seen[bundleID]) continue; seen[bundleID]=1;\n      var name=ObjC.invoke({target:bundleProxy,selector:'localizedShortName',args:[]})||bundleID;\n      out.push({name:String(name),bundle_id:bundleID});\n    }\n    return JSON.stringify(out,null,2);\n  }catch(e){console.log('list apps error:',e);return \"[]\";}\n})()",
  "hmac_b64": "",
  "created_at": "2025-09-23T12:34:00Z",
  "notes": "List third-party apps via LSApplicationWorkspace"
}
